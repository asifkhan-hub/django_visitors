{% extends 'app/base.html' %}
{% load static %}
{% block title %}Password{% endblock title %}
{% block main-content %}
<div class="container my-5">
 <div class="row">
 <h3>Welcome <span class="text-capitalize">{{request.user}}</span></h3>
  <div class="col-sm-2 border-end">
   <ul class="list-unstyled">
    <li class="d-grid"><a href="{% url 'profile' %}" class="btn">Save Password</a></li>
    <li class="d-grid"><a href="{% url 'address' %}" class="btn {{active}}">Password</a></li>
   </ul>
  </div>
  <div class="col-sm-9 offset-sm-1">
   <div class="row">
    {% for ad in add %}
     <div class="col-sm-6">
     <div class="card">
      <div class="card-body">
       <h3>Password: {{ forloop.counter }}</h3>
       <p>Password Name: {{ad.Password_Name}}</p>
       <p>Password: <span class="password" onclick="copyPassword(this)">{{ ad.Password }}</span></p>

         <style>
    .password-container {
      position: relative;
      display: inline-block;
    }

    .password {
      display: inline-block;
      padding: 6px 12px;
      background-color: #00FFFF;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .password.copied {
      background-color: #00FFFF;
      color: green;
    }

    .copy-button {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      padding: 6px 12px;
      background-color: #00FFFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .copy-button:hover {
      background-color: #45a049;
    }
  </style>
<script>
  function copyPassword(element) {
    const password = element.innerText;

    // Create a temporary textarea element to hold the password
    const textarea = document.createElement('textarea');
    textarea.value = password;
    document.body.appendChild(textarea);

    // Select the password in the textarea
    textarea.select();
    textarea.setSelectionRange(0, 99999); // For mobile devices

    // Copy the selected password to the clipboard
    document.execCommand('copy');

    // Remove the temporary textarea
    document.body.removeChild(textarea);

    // Show a notification or perform any other action to indicate the password was copied
    alert('Password copied to clipboard: ' + password);
  }
</script>
      </div>
     </div>
    </div>
    {% endfor %}
   </div>
  </div>
 </div>
</div>
{% endblock main-content %}